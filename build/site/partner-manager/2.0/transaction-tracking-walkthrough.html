<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transaction Tracking Walkthrough :: PortX Documentation</title>
    <link rel="canonical" href="https://modusbox-docs.s3-website-us-west-2.amazonaws.com/portx/index.html/partner-manager/2.0/transaction-tracking-walkthrough.html">
    <meta name="keywords" content="b2b, tracking">
    <meta name="generator" content="Antora 1.0.1">
    <link rel="stylesheet" href="../../_/css/site.css">
  </head>
  <body class="article">
<header class="header" role="banner">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://modusbox-docs.s3-website-us-west-2.amazonaws.com/portx/index.html">PortX Documentation</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <!--
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Resources</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Resource A</a>
            <a class="navbar-item" href="#">Resource B</a>
            <a class="navbar-item" href="#">Resource C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
      -->
    </div>
  </nav>
</header>
<div class="main-wrapper">
<div class="navigation-container" data-component="partner-manager" data-version="2.0">
  <aside class="navigation" role="navigation">
    <div class="panels">
<div class="navigation-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html">Partner Manager</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="index.html">Partner Manager</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="key-concepts.html">Key Concepts</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="b2b-transaction-processing-framework.html">B2B Transaction-Processing Framework</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="resolution-processes.html">Resolution Processes</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="tracking.html">Tracking</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="examples.html">Examples</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="transaction-monitoring.html">Transaction Monitoring</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="central-pane-elements.html">Central Pane Elements</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="tracking-scenarios.html">Tracking Scenarios</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="partner-configuration.html">Partner Configuration</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="company-information.html">Company Information</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="identifiers.html">Identifiers</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="availability.html">Availability</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="certificate.html">Certificate</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="x12-settings.html">X12 Settings</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="edifact-settings.html">EDIFACT Settings</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="csv-settings.html">CSV Settings</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="transaction-designer.html">Transaction Designer</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="document-types.html">Document Types</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="endpoints.html">Endpoints</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="maps.html">Maps</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="channels.html">Channels</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="routes.html">Routes</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="partner-conversations.html">Partner Conversations</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="rosettanet-pips.html">RosettaNet PIPs</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="rosettanet-agreements.html">RosettaNet Agreements</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="administration.html">Administration</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="environments.html">Environments</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="error-codes.html">Error Codes</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="security.html">Security</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="lookup-tables.html">Lookup Tables</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="tutorials.html">Tutorials</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="partner-manager-tutorial-td.html">Partner Manager Tutorial: Designing a Transaction</a>
  </li>
  <li class="nav-item is-current-page" data-depth="3">
    <a class="nav-link" href="transaction-tracking-walkthrough.html">Transaction Tracking Walkthrough</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="partner-manager-apis.html">Partner Manager APIs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="glossary.html">Glossary</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="navigation-explore" data-panel="explore">
  <div class="context">
    <span class="title">Partner Manager</span>
    <span class="version">2.0</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Partner Manager</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">2.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Partner Manager Connector</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../partner-manager-connector/7.0/partner-manager-connector.html">7.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">PortX</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../portx/1/index.html">1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Release Notes</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../release-notes/All/release-notes.html">All</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
  <main class="main" role="main">
<div class="toolbar" role="navigation">
  <button class="navigation-toggle"></button>
  <a href="../../portx/1/index.html" class="home-link"></a>
<nav class="crumbs" role="navigation" aria-label="breadcrumbs">
  <ul>
    <li class="crumb"><a href="index.html">Partner Manager</a></li>
    <li class="crumb"><a href="tutorials.html">Tutorials</a></li>
    <li class="crumb"><a href="transaction-tracking-walkthrough.html">Transaction Tracking Walkthrough</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/modusintegration/modusbox-docs/edit/dev/partner-manager/modules/ROOT/pages/transaction-tracking-walkthrough.adoc">Edit this Page</a></div>
</div>
<article class="doc">
<h1>Transaction Tracking Walkthrough</h1>
<div class="sect1">
<h2 id="_audience"><a class="anchor" href="#_audience"></a>Audience</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This document is aimed at a technical audience possessing basic knowledge of Anypoint Studio and Anypoint B2B.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_prerequisites"><a class="anchor" href="#_prerequisites"></a>Prerequisites</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Anypoint Studio with Mule Server 3.7.1 EE runtime</p>
</li>
<li>
<p>Anypoint Platform account</p>
</li>
<li>
<p>Amazon S3 bucket for file storage (optional)</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_running_the_example"><a class="anchor" href="#_running_the_example"></a>Running the example</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Download the <a href="https://drive.google.com/open?id=1-59ej2jTORbPqI3vOt58SabbzOeIpHEw">application</a> and import it into Anypoint Studio.</p>
</li>
<li>
<p>From your web browser, log into PortX. Go to the Home Organization page and copy your secret API key.</p>
</li>
<li>
<p>From the imported Mule project in Anypoint Studio, click the file <code>b2b-tracking-transmission.xml</code> in the <code>app</code> folder, and select the <strong>Global Elements</strong> view tab. Open the Partner Manager Connector configuration and set the API Key you generated from PortX.</p>
</li>
<li>
<p>Right-click  the imported project folder from the <strong>Project Explorer</strong> view. Select <strong>Run As</strong> and click <strong>Mule Application</strong>.</p>
</li>
<li>
<p>Create a copy of the file <code>po.xml</code> in <code>src/test/resources</code> and place it in the <code>outbox</code> directory</p>
</li>
<li>
<p>The file should disappear from the directory since the File Connector message source  deletes the file after it reads it.</p>
</li>
<li>
<p>Access the B2B Transmissions page in the PortX to confirm that the B2B exchange was tracked.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_anypoint_b2b_platform_transaction_tracking_walkthrough"><a class="anchor" href="#_anypoint_b2b_platform_transaction_tracking_walkthrough"></a>Anypoint B2B Platform Transaction Tracking Walkthrough</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This walkthrough shows you how to leverage the Anypoint B2B Platform to track B2B exchanges for non-EDI messages and connectors that are not included in Anypoint B2B. In this walkthrough you will develop a Mule application that simulates a B2B exchange of a XML purchase order. The application will read a purchase order file from a directory in your local filesystem and save it to another directory. In between, the exchange, in terms of metadata, message content and other data, will be tracked using the Partner Manager Connector. Once tracked, the exchange can be viewed from the PortX.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Launch Anypoint Studio and create a new Mule project.</p>
</li>
<li>
<p>Switch to the <strong>Global Elements</strong> view and create a Partner Manager Connector configuration.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Go back to the <strong>Message Flow</strong> view. Drag the <strong>File Connector</strong> from the palette to the canvas in order to create a message source:</p>
<div class="paragraph">
<p><span class="image"><img src="_images/transmission-tracking-walk-1.png" alt="transmission-tracking-walk-1"></span></p>
</div>
</li>
<li>
<p>Configure the <strong>File Connector</strong> message source to read from a directory called <code>outbox</code>:</p>
<div class="paragraph">
<p><span class="image"><img src="_images/transmission-tracking-walk-2.png" alt="transmission-tracking-walk-2"></span></p>
</div>
</li>
<li>
<p>Add an <strong>Object to String</strong> transformer after the message source in order to read from the file stream:</p>
<div class="paragraph">
<p><span class="image"><img src="_images/transmission-tracking-walk-3.png" alt="transmission-tracking-walk-3"></span></p>
</div>
</li>
<li>
<p>Drag the <strong>Partner Manager Connector</strong> from the palette and add it to the flow:</p>
<div class="paragraph">
<p><span class="image"><img src="_images/transmission-tracking-walk-4.png" alt="transmission-tracking-walk-4"></span></p>
</div>
</li>
<li>
<p>Select as <strong>Connector Configuration</strong> the config that you created in step 2. Select <strong>Track transmission</strong> for the <strong>operation</strong>:</p>
<div class="paragraph">
<p><span class="image"><img src="_images/transmission-tracking-walk-5.png" alt="transmission-tracking-walk-5"></span></p>
</div>
</li>
<li>
<p>Configure the <strong>Track transmission</strong> operation as follows:</p>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Field</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Value</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">From-party identifier</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>#[xpath3(''/PurchaseOrder/Address/Name'')</code>]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">To-party identifier</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>My Organisation</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Content Reference (Set only if you have configured the File Storage type on the Partner Manager Connector config)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>#[payload]</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Filename</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>#[flowVars.originalFilename]</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Format Type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>XML</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><span class="image"><img src="_images/transmission-tracking-walk-6.png" alt="transmission-tracking-walk-6"></span></p>
</div>
<div class="paragraph">
<p>In addition to the above, click on Create Object manually which is located next to the <strong>Metadata</strong> attribute. This action brings up the <strong>Object Builder</strong> that allows you to define the metadata to be saved as part of the transmission. Define the metadata entries as shown in the screenshot below:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/transmission-tracking-walk-7.png" alt="transmission-tracking-walk-7"></span></p>
</div>
</li>
<li>
<p>Add a <strong>File Connector</strong> to the flow such that the purchase order is written out to a different directory called <code>inbox</code>:</p>
<div class="paragraph">
<p><span class="image"><img src="_images/transmission-tracking-walk-8.png" alt="transmission-tracking-walk-8"></span></p>
</div>
</li>
<li>
<p>Right-click on the project and run the application as a Mule project:</p>
<div class="paragraph">
<p><span class="image"><img src="_images/transmission-tracking-walk-9.png" alt="transmission-tracking-walk-9"></span></p>
</div>
<div class="paragraph">
<p>If you have enabled S3 storage in the Partner Manager Connector config, then you need to add the AWS and S3 parameters to the Mule application VM arguments.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>+
. Drop the file <a href="https://drive.google.com/open?id=1-59ej2jTORbPqI3vOt58SabbzOeIpHEw">b2b-tracking-po.xml</a> in the <code>outbox</code> directory. You should see the file moved to the <code>inbox</code> directory.</p>
</div>
<div class="paragraph">
<p>+
. Access the PortX and go to the B2B transmissions view to confirm that the exchange was tracked:</p>
</div>
<div class="paragraph">
<p>+
<span class="image"><img src="_images/transmission-tracking-walk-10.png" alt="transmission-tracking-walk-10"></span></p>
</div>
</div>
</div>
</article>
  </main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../_/js/site.js"></script>
<script src="../../_/js/vendor/highlight.js"></script>
<script>hljs.initHighlighting()</script>
  </body>
</html>
