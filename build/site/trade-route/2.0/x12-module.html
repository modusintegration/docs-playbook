<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>X12 Module :: PortX(TM) Documentation</title>
    <link rel="canonical" href="https://modusbox-docs.s3-website-us-west-2.amazonaws.com/portx/index.html/trade-route/2.0/x12-module.html">
    <meta name="keywords" content="b2b, x12, schema, module, edi">
    <meta name="generator" content="Antora 1.0.1">
    <link rel="stylesheet" href="../../_/css/site.css">
  </head>
  <body class="article">
<header class="header" role="banner">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://modusbox-docs.s3-website-us-west-2.amazonaws.com/portx/index.html">PortX(TM) Documentation</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <!--
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Resources</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Resource A</a>
            <a class="navbar-item" href="#">Resource B</a>
            <a class="navbar-item" href="#">Resource C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
      -->
    </div>
  </nav>
</header>
<div class="main-wrapper">
<div class="navigation-container" data-component="trade-route" data-version="2.0">
  <aside class="navigation" role="navigation">
    <div class="panels">
<div class="navigation-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html">Trade Route(TM)</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="index.html">TradeRoute</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="key-concepts.html">Key Concepts</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="b2b-transaction-processing-framework.html">B2B Transaction-Processing Framework</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="resolution-processes.html">Resolution Processes</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="tracking.html">Tracking</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="examples.html">Examples</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="transaction-monitoring.html">Transaction Monitoring</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="central-pane-elements.html">Central Pane Elements</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="tracking-scenarios.html">Tracking Scenarios</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="partner-configuration.html">Partner Configuration</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="company-information.html">Company Information</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="identifiers.html">Identifiers</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="availability.html">Availability</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="certificate.html">Certificate</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="x12-settings.html">X12 Settings</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="edifact-settings.html">EDIFACT Settings</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="csv-settings.html">CSV Settings</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="transaction-designer.html">Transaction Designer</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="document-types.html">Document Types</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="endpoints.html">Endpoints</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="maps.html">Maps</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="channels.html">Channels</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="routes.html">Routes</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="partner-conversations.html">Partner Conversations</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="rosettanet-pips.html">RosettaNet PIPs</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="rosettanet-agreements.html">RosettaNet Agreements</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="administration.html">Administration</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="environments.html">Environments</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="error-codes.html">Error Codes</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="security.html">Security</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="lookup-tables.html">Lookup Tables</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="tutorials.html">Tutorials</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="trade-route-tutorial-td.html">Trade Route Tutorial: Designing a Transaction</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="transaction-tracking-walkthrough.html">Transaction Tracking Walkthrough</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="trade-route-apis.html">Trade Route APIs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="glossary.html">Glossary</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="navigation-explore" data-panel="explore">
  <div class="context">
    <span class="title">Trade Route(TM)</span>
    <span class="version">2.0</span>
  </div>
  <ul class="components">
    <li class="component">
      <span class="title">PortX(TM)</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../portx/1/index.html">1</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Release Notes</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../release-notes/All/release-notes.html">All</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Trade Route Connector</span>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../trade-route-connector/7.0/trade-route-connector.html">7.0</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <span class="title">Trade Route(TM)</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">2.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
  <main class="main" role="main">
<div class="toolbar" role="navigation">
  <button class="navigation-toggle"></button>
  <a href="../../portx/1/index.html" class="home-link"></a>
<nav class="crumbs" role="navigation" aria-label="breadcrumbs">
  <ul>
    <li class="crumb"><a href="index.html">Trade Route(TM)</a></li>
    <li class="crumb"><a href="x12-module.html">X12 Module</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/modusintegration/modusbox-docs/edit/dev/trade-route/modules/ROOT/pages/x12-module.adoc">Edit this Page</a></div>
</div>
<article class="doc">
<h1>X12 Module</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><em>Premium</em></p>
</div>
<div class="paragraph">
<p>The X12 Module provides you with the ability to communicate with trading partners using X12 EDI (electronic data interchange).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This document describes the Mule 3 version of X12. For the Mule 4 version, see the <a href="#connectors/x12-edi-connector">X12 EDI Connector</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The X12 Module includes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>X12 EDI message-reading, message-validation, and message-writing</p>
</li>
<li>
<p>Integration with DataSense and DataWeave</p>
</li>
<li>
<p>X12 message packs for all versions from 0030xx, 0040xx, and 0050xx, and 006020</p>
</li>
<li>
<p>The ability to define your own schemas or customize the base X12 schemas</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To get started using the connector, follow these steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Install the X12 connector.</p>
</li>
<li>
<p>Create schemas to describe your EDI messages according to your implementation.</p>
</li>
<li>
<p>Configure the EDI Module for your trading partner according to your implementation convention.</p>
</li>
<li>
<p>Use the EDI module inside Mule flows.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>This page helps provides guidance for each of these steps.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installation"><a class="anchor" href="#_installation"></a>Installation</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In Anypoint Studio, click the Exchange icon in the Studio taskbar.</p>
</li>
<li>
<p>Click Login in Anypoint Exchange.</p>
</li>
<li>
<p>Search for the connector and click Install.</p>
</li>
<li>
<p>Follow the prompts to install the connector.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>When Studio has an update, a message displays in the lower right corner, which you can click to install the update.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_using_the_x12_module_via_maven"><a class="anchor" href="#_using_the_x12_module_via_maven"></a>Using the X12 Module via Maven</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you want to use the X12 Module in conjunction with Maven, follow the instructions in the <strong>As a Maven Dependency</strong> section of the <strong>Install</strong> tab on the <a href="http://mulesoft.github.io/edi-module/x12/guide/install.html">Mule EDI Anypoint X12 Connector page</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_edi_schema_language"><a class="anchor" href="#_edi_schema_language"></a>EDI Schema Language</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The X12 Module uses a YAML format called ESL (for EDI Schema Language) to represent EDI schemas.  Basic ESLs define the structure of EDI messages in terms of <em>structures</em> (transaction sets, in X12 terminology), <em>groups</em> (loops, in X12), <em>segments</em>, <em>composites</em>, and <em>elements</em>. ESLs for the X12 004010 and 005010 versions are included.</p>
</div>
<div class="paragraph">
<p>To configure the X12 Module according to your implementation convention, define an <em>overlay schema</em>. An overlay schema is a special form of ESL that allows you to modify a base schema, such as an X12 4010 850 schema, with your specific conventions. (You don&#8217;t need an overlay schema if you&#8217;re using the structure defined by the standard, but most EDI exchanges modify the base definitions in an implementation convention).</p>
</div>
<div class="paragraph">
<p>You can also define your own schemas from scratch.
See <a href="#portx/edi-schema-language-reference">EDI Schema Language Reference</a> for more details.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>YAML uses a combination of lists and sets of key-value pairs. Order of values is not important, as long as required items are present. Quotes (either single or double quotes) are used around values which may consist of digits but are meant to be interpreted as strings (since otherwise the YAML parser treats the values as numbers). Indentation is used to show the nesting of lists.</p>
</div>
<div class="paragraph">
<p>For readability, the ESL structures shown here define all simple key-value pairs before any lists that are part of the same definition.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_defining_your_implementation_convention_with_an_overlay_schema"><a class="anchor" href="#_defining_your_implementation_convention_with_an_overlay_schema"></a>Defining your Implementation Convention with an Overlay Schema</h3>
<div class="paragraph">
<p>To specify a schema according to your implementation convention, you can follow the following process:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Create an "overlay" schema which imports the base schema you want to customize - for example, X12 005010 850</p>
</li>
<li>
<p>Customize the overall structure - segment usage, positions, groups and counts</p>
</li>
<li>
<p>Customize segments - including usage and counts</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Overlay schemas are very similar in structure to a <a href="#portx/edi-schema-language-reference">complete schema definition</a>, but instead of providing all the details of the schema structure they only list changes. Overlay schemas specify how to use implementation conventions with a particular trading partner to extend and customizes the standard.</p>
</div>
<div class="paragraph">
<p>By way of example, here&#8217;s the start of a sample overlay schema modifying the basic X12 005010 850 transaction set definition. This sample customizes the <code>CUR</code> segment and specifies that it is unused - thereby ensuring that it doesn&#8217;t show up in the mapping structures in Studio.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">form: X12
version: '005010'
imports: [ '/x12/005010/850.esl' ]
structures:
- idRef: '850'
  name: Purchase Order
  class: PO
  heading:
  - { idRef: 'CUR', position: '0400', usage: U }</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_structure_overlay"><a class="anchor" href="#_structure_overlay"></a>Structure Overlay</h3>
<div class="paragraph">
<p>A structure overlay details modifications to the base schema definition of an X12 transaction set. Most often these modifications take the form of marking segments or groups in the base definition as unused, but any usage or repetition count change is allowed. Here&#8217;s the form taken by a structure overlay:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">- idRef: '850'
  heading:
  - { idRef: 'CUR', position: '0400', usage: U }
  - { idRef: 'PER', position: '0600', usage: U }
  - groupIdRef: 'N9_Loop'
    position: '2950'
    items:
    - { idRef: 'DTM', position: '2970', usage: U }
    - { idRef: 'PWK', position: '3050', usage: U }
    - { idRef: 'EFI', position: '3080', usage: U }</code></pre>
</div>
</div>
<div class="paragraph">
<p>The modifications in this example specify that the CUR and PER segments of the standard 850 heading are not being used, along with the segments in the N9 group (or in X12 terms, loop).</p>
</div>
<div class="paragraph">
<p>The key-value pairs at the structure level are:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>idRef</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The ID for the transaction set being modified.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>name</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The transaction set name (optional).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>heading, detail, summary</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>List of segment and group modifications within each section of the structure (optional, each is only used when there are modifications to that section).</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The lists of segment modifications for the different sections of the structure (heading, detail, summary) all use the same structure. Each item in the list is either a segment reference or a group definition. Segment references are shown using a compact YAML syntax where the values for each reference are given as comma-separated key-value pairs enclosed in curly braces. The values are:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>idRef</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The referenced segment ID (optional, verified if provided but otherwise ignored – the position value is used to uniquely identify segments within the section).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>position</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The segment position within the transaction set section.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>usage</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Usage code, which may be M for Mandatory, O for Optional, C for Conditional, or U for Unused (optional, base definition value used if not specified).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>count</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Maximum repetition count value, which may be a number or the special value <code>&gt;1</code> meaning any number of repeats (optional, base definition value used if not specified).</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Group overlays are shown in expanded form, with key-value pairs on separate lines. The values in a group definition are:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>groupIdRef</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The referenced group id (optional, verified if provided but otherwise ignored – the position value is used to uniquely identify a group within a section).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>position</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The segment position within the transaction set section.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>usage</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Usage code, which may be M for Mandatory, O for Optional, C for Conditional, or U for Unused.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>count</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Maximum repetition count value, which may be a number or the special value <code>&gt;1</code> meaning any number of repeats (optional, base definition value used if not specified).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>items</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>List of segments (and potentially nested loops) making up the loop.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_segment_overlays"><a class="anchor" href="#_segment_overlays"></a>Segment Overlays</h3>
<div class="paragraph">
<p>A segment overlay again details modifications to the base schema definition. Most often these modifications take the form of marking elements or composites in the base definition as unused, but any usage or repetition count change is allowed. Here are some sample segment overlays:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">segments:
- { idRef: AMT, trim: 3 }
- idRef: BEG
  items:
  - { position: 4, usage: U }
- { idRef: DTM, trim: 3 }
- idRef: ITD
  items:
  - { position: 4, usage: U }
  - { position: 6, usage: U }</code></pre>
</div>
</div>
<div class="paragraph">
<p>The above example uses the compact form for segment modifications that only involve a truncate, while modifications that make changes to individual values are expressed in expanded form. As with all the other YAML examples, the two forms are actually equivalent and can be used interchangeably.</p>
</div>
<div class="paragraph">
<p>The key-value pairs in a segment overlay are:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>idRef</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Segment identifier.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>trim</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Trim position in segment, meaning all values from this point on are marked as unused (optional).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>items</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>List of individual value modifications.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The items list references values in the segment by position. The values for these references are:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>position</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The value position within the segment.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>name</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The name of the value in the segment (optional, base definition value used if not specified)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>usage</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Usage code, which may be M for Mandatory, O for Optional, C for Conditional, or U for Unused (optional, base definition value used if not specified).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>count</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Maximum repetition count value, which may be any number or the special value <code>&gt;1</code> meaning any number of repeats (optional, base definition value used if not specified).</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_determining_the_x12_schema_location"><a class="anchor" href="#_determining_the_x12_schema_location"></a>Determining the X12 Schema Location</h3>
<div class="paragraph">
<p>To use the connector, you need to know the locations of the schemas in your project. If you&#8217;re using the out of the box X12 schemas and not customizing anything, the schema location follows the  <code>/x12/{version}/{transaction-set}.esl</code> pattern. For example, if you&#8217;re using the <code>005010</code> version and the 850 transaction set, your schema location is <code>/x12/005010/850.esl</code>.</p>
</div>
<div class="paragraph">
<p>If you&#8217;re creating a custom implementation convention, you should put your schemas under a directory in src/main/app and refer to the location using <code>${app.home}</code>. For example, if you&#8217;ve put your 850 schema under src/main/app/mypartner/850.esl, your schema location is <code>${app.home}/mypartner/850.esl</code>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_configuring_the_x12_module"><a class="anchor" href="#_configuring_the_x12_module"></a>Configuring the X12 Module</h2>
<div class="sectionbody">
<div class="paragraph">
<p>After you install the connector and configure your schema customizations (if any), you can start using the connector. Create separate configurations for each implementation convention.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[tab,title="Studio Visual Editor"]
....

Follow these steps to create a global X12 module configuration in a Mule application:

. Click the *Global Elements* tab at the base of the canvas, then click *Create*.
. In the *Choose Global Type* wizard, use the filter to locate and select, *X12 Module*, then click *OK*.
+
image:x12-module-3.png[x12-module-3]
+
. Configure the parameters according to the connector reference.
. Click *OK* to save the global connector configurations.
. Return to the *Message Flow* tab in Studio.

....
[tab,title="XML Editor or Standalone"]
....

Ensure that you have included the EDI namespaces in your configuration file.

[source, code, linenums]
----
segments:
- { idRef: AMT, trim: 3 }
- idRef: BEG
  items:
  - { position: 4, usage: U }
- { idRef: DTM, trim: 3 }
- idRef: ITD
  items:
  - { position: 4, usage: U }
  - { position: 6, usage: U }
----

Follow these steps to configure a EDI module in your application.

. Create a global ServiceNow configuration outside and above your flows, using the following global configuration code.
+
[source, xml, linenums]
----
&lt;x12-edi:config name="MyTradingPartner" doc:name="EDI" interchangeIdQualifierSelf="01" interchangeIdSelf="ABCDEFG" groupIdSelf="ABC123" interchangeIdQualifierPartner="01" interchangeIdPartner="HIJKLMN" groupIdPartner="DEF456"&gt;
    &lt;x12-edi:schemas&gt;
        &lt;x12-edi:schema&gt;/x12/005010/850.esl&lt;/x12-edi:schema&gt;
        &lt;x12-edi:schema&gt;/x12/005010/855.esl&lt;/x12-edi:schema&gt;
    &lt;/x12-edi:schemas&gt;
&lt;/x12-edi:config&gt;
----
+
. Configure the connector according to your implementation convention using the guide below.
....</pre>
</div>
</div>
<div class="paragraph">
<p>After you set up a global element for your X12 module, configure the schemas, acknowledgments, IDs, and the parser options. A reference for these options is located in the <a href="http://mulesoft.github.com/edi-module">EDI module reference</a>.</p>
</div>
<div class="sect2">
<h3 id="_setting_your_schema_locations"><a class="anchor" href="#_setting_your_schema_locations"></a>Setting Your Schema Locations</h3>
<div class="paragraph">
<p>You can only configure schema locations in the Anypoint Studio XML view. The schema files are loaded when the connector is initialized, thus runtime expressions such as flow variables are not supported.</p>
</div>
<div class="paragraph">
<p>Using the schema locations determined above, switch to the XML view by clicking <strong>Configuration XML</strong> in Studio and modify your X12 module configuration to include a list of all the schemas you wish to include by adding an <code>edi:schema</code> element for each document type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;x12-edi:config name="MyTradingPartner" doc:name="EDI" interchangeIdQualifierSelf="01" interchangeIdSelf="ABCDEFG" groupIdSelf="ABC123" interchangeIdQualifierPartner="01" interchangeIdPartner="HIJKLMN" groupIdPartner="DEF456"&gt;
    &lt;x12-edi:schemas&gt;
        &lt;x12-edi:schema&gt;/x12/005010/850.esl&lt;/x12-edi:schema&gt;
        &lt;x12-edi:schema&gt;/x12/005010/855.esl&lt;/x12-edi:schema&gt;
    &lt;/x12-edi:schemas&gt;
&lt;/x12-edi:config&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_setting_your_x12_interchange_ids"><a class="anchor" href="#_setting_your_x12_interchange_ids"></a>Setting your X12 Interchange IDs</h3>
<div class="paragraph">
<p>You can configure the interchange ID, interchange ID qualifier, and group application ID for you and your trading partner on the X12 Module connector configuration.</p>
</div>
<div class="paragraph">
<p>The "Self identification" parameters identify your side of the trading partner relationship, while the "Partner identification" parameters identify your trading partner. The values you set are used when writing EDI messages to supply the interchange ID, interchange ID qualifier, or group application ID, and are verified in receive messages. If you don&#8217;t want to restrict incoming messages you can leave these blank, and set the values for outgoing messages on the write operation or the actual outgoing message. Values set on the write operation overrides the connector configuration, and values set directly on the message overrides both the connector configuration and any values set on the write operation.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_understanding_x12_message_structure"><a class="anchor" href="#_understanding_x12_message_structure"></a>Understanding X12 Message Structure</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The connector enables reading or writing of X12 documents into or from the canonical EDI message structure. This structure is represented as a hierarchy of Java Maps and Lists, which can be manipulated using DataWeave or code. Each transaction has its own structure, as defined in the schemas, as outlined above.</p>
</div>
<div class="paragraph">
<p>The message itself contains the following keys (some of which only apply to either the read operation or the write operation, as indicated):</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Delimiters (optional)</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The delimiters used for the message (set based on the last interchange processed by a read operation). If set for a write operation this overrides the values in the module configuration. The characters in the string are interpreted based on position, in the following order: (data separator), (sub-element separator), (repetition separator, or 'U' if none), (segment terminator).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Errors (read only)</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>A list of errors which are associated with the input as a whole, or with interchanges with no valid transaction sets. (See the X12Error structure description in the Reading and Validating EDI Messages section below.)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>FunctionalAcksGenerated (read only)</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>A list of 997 or 999 acknowledgments (as configured) that were generated by the module during the read operation. To send an acknowledgment, see the Sending Acknowledgments section below.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Group (write only)</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Map of GS group header segment values used as defaults when writing groups.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Interchange (write only)</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Map of ISA interchange header segment values used as defaults when writing interchanges.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>InterchangeAcksGenerated (read only)</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>A list of TA1 acknowledgments that were generated by the module during the read operation.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>InterchangeAcksReceived (read only)</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>A list of TA1 acknowledgments that were received by the module during the read operation.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>InterchangeAcksToSend (write only)</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>A list of TA1 acknowledgments that are to be sent by the module during the write operation.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Transactions</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>A hierarchy of the transaction sets which were read by the module during a read operation, or which are to be sent by the module during a write operation. The value of this top-level key is a map with standard versions as keys, in the form "v005010" (for instance). For example, if you are using version 005010 850 and 855 transaction sets, the Transactions would contain a map with on key, "v005010". The value of this key would be another map, this one with two keys, "850" and "855". Each of these would contain a list of individual 850 and 855 transaction sets that you could then process. If you&#8217;re using 997 functional acknowledgments "997" is the key for a list of 997 transaction sets.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Individual transaction sets have their own maps, with the following keys:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Detail</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Map of segments or loops from the detail section of the transaction set. Values are maps for segments or loops which occur at most once, lists of maps for values which may be repeated.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Errors (read only)</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>A list of errors which are associated with the transaction set. (See the X12Error class description in the <a href="#Reading and Validating EDI Messages">[Reading and Validating EDI Messages]</a> section below.)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Group</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Map of GS group header segment values. When reading a message, this map is the actual data from the enclosing group (a single map linked from all transaction sets in the group). When writing a message, these values are used for creating the enclosing group Values not populated in this map default to the values from the Group map at the message level.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Heading</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Map of segments or loops from the heading section of the transaction set. Values are maps for segments or loops which occur at most once, lists of maps for values which may be repeated.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Id</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Transaction ID, which must match the key of the containing transaction list.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Interchange</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Map of ISA interchange header segment values. When reading a message, this map is the actual data from the enclosing interchange (a single map linked from all transaction sets in the interchange). When writing a message, these values are used for creating the enclosing interchange (gathering transactions with the same interchange values into a single interchange, regardless of whether the actual maps are the same or not). Values not populated in this map default to the values from the Interchange map at the message level.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Name</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Transaction set name.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>SetHeader</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Map of ST transaction set header segment values. This gives the actual header data for a read operation, and allows you to provide overrides for configuration settings for a write operation.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Summary</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Map of segments or loops from the summary section of the transaction set. Values are maps for segments or loops which occur at most once, lists of maps for values which may be repeated.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Generated 997/999 functional acknowledgment transactions differ from received messages in their handling of interchange information:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Interchange</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Map of ISA interchange header segment values. For functional acknowledgments generated by receive processing, this map is a copy of the data for the containing interchange with sender and receiver identification components (ISA05/ISA06 and ISA07/ISA08) interchanged. When writing a message, these values are used for creating the enclosing interchange (gathering transactions with the same interchange values into a single interchange, regardless of whether the actual maps are the same or not). Values not populated in this map default to the values from the Interchange map at the message level.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>TA1 interchange acknowledgments are in the form of maps representing the TA1 segment data and linked to data on the corresponding interchange:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Interchange</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Map of ISA interchange header segment values. For TA1 acknowledgments generated by receive processing, this map is a copy of the data for the interchange matching the TA1 with sender and receiver identification components (ISA05/ISA06 and ISA07/ISA08) interchanged. When writing a message, these values are used for creating the enclosing interchange (gathering transactions with the same interchange values into a single interchange, regardless of whether the actual maps are the same or not). Values not populated in this map default to the values from the Interchange map at the message level.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_time_fields"><a class="anchor" href="#_time_fields"></a>Time Fields</h2>
<div class="sectionbody">
<div class="paragraph">
<p>All X12 Time fields are represented as Integer values for the number of milliseconds.
For example, if a message has the value <code>024020</code>, its Dataweave mapping
appears as <code>9620000</code> milliseconds.</p>
</div>
<div class="paragraph">
<p>The value <code>024020</code> is in the format "HHMMSS", so if we convert it to milliseconds, we need to do:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code>(02*3600000) + (40*60000) + (20*1000) = 9620000</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_reading_and_validating_x12_edi_messages"><a class="anchor" href="#_reading_and_validating_x12_edi_messages"></a>Reading and Validating X12 EDI Messages</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To read an X12 message, search the palette for "X12 EDI" and drag the X12 module into a flow. Then, go to the properties view, select the connector configuration you created above and select the "Read" operation. This operation reads any byte stream into the structure described by your X12 schemas.</p>
</div>
<div class="paragraph">
<p>The X12 module validates the message when it reads it in. Message validation includes checking the syntax and content of envelope segments ISA, GS, GE, and IEA as well as the actual transaction sets in the message. Normally errors are both logged and accumulated and reported in either TA1 technical acknowledgment segments or 997 acknowledgment transaction sets, and all accepted transaction sets (whether error free or with non-fatal errors) are passed on for processing as part of the output message Map. Errors in reading the input data results in exceptions being thrown.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/x12-module-4.png" alt="x12-module-4"></span></p>
</div>
<div class="paragraph">
<p>Error data entered in the receive data map uses the X12Error class, a read-only JavaBean with the following properties:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>segment</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The zero-based index within the input of the segment causing the error.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>segTag</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The tag for the segment causing the error.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>fatal</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Flag for a fatal error, meaning the associated transaction set, group, or interchange was rejected as a result of the error.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>errorType</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Enumeration for the different types of errors defined by the X12 standards: INTERCHANGE_NOTE, GROUP_SYNTAX, TRANSACTION_SYNTAX, SEGMENT_SYNTAX, or ELEMENT_SYNTAX.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>errorCode</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Error code, as defined by the X12 standard for the indicated type of error.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>errorText</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Text description of the error.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>errorLevel</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Enumeration for the different levels of errors: ROOT_LEVEL, INTERCHANGE_LEVEL, GROUP_LEVEL, or TRANSACTION_LEVEL.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>interchangeId</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Interchange identifier, if errorLevel INTERCHANGE_LEVEL or above.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>groupId</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Group identifier, if errorLevel GROUP_LEVEL or TRANSACTION_LEVEL.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>transactionId</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Interchange identifier, if errorLevel TRANSACTION_LEVEL.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Error data is returned by the read operation as optional lists with the "Errors" key at every level of the data structure. At the transaction set level, this list contains non-fatal errors encountered during the parsing of that transaction set. At the interchange level, this list contains errors (both fatal and non-fatal) for transaction sets with fatal errors. At the root level of the read, this list contains both interchange errors and every other error reported at any nested level.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_writing_x12_edi_messages"><a class="anchor" href="#_writing_x12_edi_messages"></a>Writing X12 EDI Messages</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To write an outgoing message, construct an outgoing X12 EDI message according to the structure as defined above. For example, this sample creates an outgoing EDI message which is written to a file.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">  ...
&lt;x12-edi:write config-ref="Walmart" doc:name="Send 855"/&gt;
&lt;file:outbound-endpoint responseTimeout="10000" doc:name="File" path="output" outputPattern="ack.edi"/&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_sending_functional_acknowledgments"><a class="anchor" href="#_sending_functional_acknowledgments"></a>Sending Functional Acknowledgments</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Sending generated functional acknowledgments (997 or 999 transaction sets) is the same as writing any other EDI message, except you set the transactions to the acknowledgments that were generated during the read operation. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;x12-edi:read config-ref="Walmart" doc:name="Read EDI Doc"/&gt;
  ...
&lt;dw:transform-message doc:name="Create Outgoing Message"&gt;
            &lt;dw:input-payload doc:sample="InMessage.dwl"/&gt;
            &lt;dw:set-payload&gt;&lt;![CDATA[%dw 1.0
%output application/java
---
{
	TransactionSets: {
		v005010: {
			'997' : payload.FunctionalAcksGenerated
		}
	}
}]]&gt;&lt;/dw:set-payload&gt;
&lt;/dw:transform-message&gt;
&lt;x12-edi:write config-ref="Walmart" doc:name="Send 997"/&gt;
&lt;file:outbound-endpoint responseTimeout="10000" doc:name="File" path="output" outputPattern="ack.edi"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The generated functional acknowledgments have interchange data set up for sending back to the sender of the original message, so you don&#8217;t need to change anything in the transactions in order to do the send.</p>
</div>
<div class="paragraph">
<p>If you use 999 acknowledgments, add any required CTX segments yourself to the basic structure generated by the X12 Module (currently it does not track implementation convention changes to the base transaction set structure).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_sending_interchange_acknowledgments"><a class="anchor" href="#_sending_interchange_acknowledgments"></a>Sending Interchange Acknowledgments</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To send interchange acknowledgments (TA1 segments), just set the value of the InterchangeAcksToSend key in the message map to the list of TA1 segment maps to be sent. The generated TA1 segments have interchange data set up for sending back to the sender of the original message, so you don&#8217;t need to change anything in the segment data in order to do the send.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_see_also"><a class="anchor" href="#_see_also"></a>See Also</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="http://www.x12.org/x12-work-products/x12-transaction-sets.cfm">ASC X12 Transaction Sets</a></p>
</li>
<li>
<p><a href="https://en.wikipedia.org/wiki/X12_Document_List">X12 Document List</a>.</p>
</li>
</ul>
</div>
</div>
</div>
</article>
  </main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../_/js/site.js"></script>
<script src="../../_/js/vendor/highlight.js"></script>
<script>hljs.initHighlighting()</script>
  </body>
</html>
